{% extends './base.html' %}
{% import './_base.html' as macros %}

{% block content %}
    {{ macros.header() }}

    <div class="container py-4">
        <div class="card">
            <div class="card-body">
                <div id="monthly_perpetuals_volumes"></div>
            </div>
        </div>

        <script>
            Highcharts.chart('monthly_perpetuals_volumes', {
                chart: {
                    type: 'area',
                    height: '512px'
                },
                title: {
                    text: 'Monthly perpetuals volumes @ Mango Markets',
                    style: {"color": "lightgray", "fontSize": "14px", "fontWeight": 'bold'}
                },
                subtitle: {
                    text: "Refreshes daily at 00:00 UTC.",
                    style: {"color": "gray", "fontSize": "12px"}
                },
                xAxis: {
                    title: {
                        text: 'Month',
                        style: {
                            color: 'lightgray'
                        }
                    },
                    type: 'datetime',
                    labels: {
                        style: {
                            color: 'lightgray'
                        }
                    },
                },
                yAxis: {
                    title: {
                        text: 'Volumes (USD)',
                        style: {
                            color: 'lightgray'
                        }
                    },
                    labels: {
                        style: {
                            color: 'lightgray',
                        },
                        formatter: function () {
                            return new Intl.NumberFormat('en-US', {
                                style: 'currency',
                                currency: 'USD',
                                notation: 'compact'
                            }).format(this.value)
                        }
                    }
                },
                tooltip: {
                    pointFormatter: function () {
                        return `<strong>${this.series.name}:</strong> ${new Intl.NumberFormat('en-US', {
                            style: 'currency',
                            currency: 'USD',
                            notation: 'compact'
                        }).format(this.y)}`
                    }
                },
                legend: {
                    enabled: false,
                },
                credits: {
                    enabled: false
                },
                series: [{"name" : "Volumes (USD)", "data" : [[1627776000000, 625692], [1630454400000, 99787635], [1633046400000, 355810481], [1635724800000, 1412311619], [1638316800000, 2737866788], [1640995200000, 1280152186], [1643673600000, 1079139341], [1646092800000, 1289734041], [1648771200000, 1211431031], [1651363200000, 788499846]]}]
            })
        </script>

        <br>

        <div class="card">
            <div class="card-body">
                <div id="monthly_perpetuals_volumes_by_instrument"></div>
            </div>
        </div>

        <script>
            Highcharts.chart('monthly_perpetuals_volumes_by_instrument', {
                chart: {
                    type: 'area',
                    height: '512px'
                },
                plotOptions: {
                    area: {
                        stacking: 'normal'
                    }
                },
                title: {
                    text: 'Monthly perpetuals volumes by instrument @ Mango Markets',
                    style: {"color": "lightgray", "fontSize": "14px", "fontWeight": 'bold'}
                },
                subtitle: {
                    text: "Refreshes daily at 00:00 UTC. Hide or unhide series by clicking on their legends.",
                    style: {"color": "gray", "fontSize": "12px"}
                },
                xAxis: {
                    title: {
                        text: 'Month',
                        style: {
                            color: 'lightgray'
                        }
                    },
                    type: 'datetime',
                    labels: {
                        style: {
                            color: 'lightgray'
                        }
                    },
                },
                yAxis: {
                    title: {
                        text: 'Volumes (USD)',
                        style: {
                            color: 'lightgray'
                        }
                    },
                    labels: {
                        style: {
                            color: 'lightgray',
                        },
                        formatter: function () {
                            return new Intl.NumberFormat('en-US', {
                                style: 'currency',
                                currency: 'USD',
                                notation: 'compact'
                            }).format(this.value)
                        }
                    }
                },
                tooltip: {
                    split: true,
                    pointFormatter: function () {
                        return `<strong>${this.series.name}:</strong> ${new Intl.NumberFormat('en-US', {
                            style: 'currency',
                            currency: 'USD',
                            notation: 'compact'
                        }).format(this.y)}`
                    }
                },
                legend: {
                    itemStyle: {"color": "lightgray", "fontSize": "12px"},
                    itemHiddenStyle: {"color": "lightgray", "fontSize": "12px"},
                    itemHoverStyle: {"color": "#f2c94c", "fontSize": "12px"},
                },
                credits: {
                    enabled: false
                },
                series: [{"name" : "ADA-PERP", "data" : [[1635724800000, 21982181], [1638316800000, 54090882], [1640995200000, 26285486], [1643673600000, 12652504], [1646092800000, 9587468], [1648771200000, 5891813], [1651363200000, 5225851]]}, {"name" : "AVAX-PERP", "data" : [[1638316800000, 89974704], [1640995200000, 79824194], [1643673600000, 49041269], [1646092800000, 74732908], [1648771200000, 29714806], [1651363200000, 87086953]]}, {"name" : "BNB-PERP", "data" : [[1638316800000, 5982651], [1640995200000, 16253001], [1643673600000, 12660535], [1646092800000, 15562799], [1648771200000, 3080012], [1651363200000, 2258212]]}, {"name" : "BTC-PERP", "data" : [[1627776000000, 625692], [1630454400000, 71758558], [1633046400000, 132758852], [1635724800000, 608876156], [1638316800000, 1096796549], [1640995200000, 426588418], [1643673600000, 364201908], [1646092800000, 269742456], [1648771200000, 224324995], [1651363200000, 145989439]]}, {"name" : "ETH-PERP", "data" : [[1635724800000, 107245446], [1638316800000, 319709930], [1640995200000, 150184417], [1643673600000, 126764004], [1646092800000, 82419018], [1648771200000, 151509607], [1651363200000, 104046755]]}, {"name" : "FTT-PERP", "data" : [[1635724800000, 12444443], [1638316800000, 14201871], [1640995200000, 26750241], [1643673600000, 5608689], [1646092800000, 2432316], [1648771200000, 3223083], [1651363200000, 2505251]]}, {"name" : "LUNA-PERP", "data" : [[1640995200000, 77625840], [1643673600000, 68003377], [1646092800000, 118197841], [1648771200000, 70904967], [1651363200000, 93839458]]}, {"name" : "MNGO-PERP", "data" : [[1635724800000, 20971149], [1638316800000, 12423358], [1640995200000, 4249631], [1643673600000, 1349464], [1646092800000, 5483758], [1648771200000, 1050072], [1651363200000, 652285]]}, {"name" : "RAY-PERP", "data" : [[1635724800000, 8622052], [1638316800000, 16223722], [1640995200000, 8577966], [1643673600000, 3923667], [1646092800000, 6834061], [1648771200000, 3938068], [1651363200000, 1176047]]}, {"name" : "SOL-PERP", "data" : [[1630454400000, 28029077], [1633046400000, 223051629], [1635724800000, 616765288], [1638316800000, 1087997539], [1640995200000, 441040373], [1643673600000, 431772852], [1646092800000, 699723359], [1648771200000, 714476347], [1651363200000, 343678392]]}, {"name" : "SRM-PERP", "data" : [[1635724800000, 15404904], [1638316800000, 40465582], [1640995200000, 22772619], [1643673600000, 3161072], [1646092800000, 5018057], [1648771200000, 3317261], [1651363200000, 2041203]]}]
            })
        </script>

    </div>

    {{ macros.footer() }}
{% endblock %}
